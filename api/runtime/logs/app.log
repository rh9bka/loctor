2025-05-20 23:35:20 [127.0.0.1][-][-][error][yii\web\HttpException:404] yii\web\NotFoundHttpException: Page not found. in D:\www\loctor\vendor\yiisoft\yii2\web\Request.php:331
Stack trace:
#0 D:\www\loctor\vendor\yiisoft\yii2\web\Application.php(82): yii\web\Request->resolve()
#1 D:\www\loctor\vendor\yiisoft\yii2\base\Application.php(384): yii\web\Application->handleRequest()
#2 D:\www\loctor\api\web\index.php(18): yii\base\Application->run()
#3 {main}
2025-05-20 23:35:20 [127.0.0.1][-][-][info][application] $_GET = [
    'status' => 'active'
    'page' => '1'
    'per-page' => '20'
]

$_POST = []

$_FILES = []

$_COOKIE = [
    '_csrf' => '6dcdf8690d61dcdb75059dae39b26a299eaacdb23784fce2311b49851db9d43fa:2:{i:0;s:5:\"_csrf\";i:1;s:32:\"ZcIIyPwdV_Ltvdkc2nbAulXW_P956DKX\";}'
]

$_SERVER = [
    'REDIRECT_STATUS' => '200'
    'HTTP_USER_AGENT' => 'PostmanRuntime/7.43.4'
    'HTTP_ACCEPT' => '*/*'
    'HTTP_CACHE_CONTROL' => 'no-cache'
    'HTTP_POSTMAN_TOKEN' => '8e8f2e98-142a-45ba-aa08-83efce6f2b1b'
    'HTTP_HOST' => 'api.loctor.loc'
    'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, br'
    'HTTP_CONNECTION' => 'keep-alive'
    'HTTP_COOKIE' => '_csrf=6dcdf8690d61dcdb75059dae39b26a299eaacdb23784fce2311b49851db9d43fa%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%22ZcIIyPwdV_Ltvdkc2nbAulXW_P956DKX%22%3B%7D'
    'PATH' => 'd:\\www\\ospanel\\modules\\php\\PHP_8.2\\ext;d:\\www\\ospanel\\modules\\php\\PHP_8.2\\pear;d:\\www\\ospanel\\modules\\php\\PHP_8.2\\pear\\bin;d:\\www\\ospanel\\modules\\php\\PHP_8.2;d:\\www\\ospanel\\modules\\wget\\bin;d:\\www\\ospanel\\modules\\database\\MariaDB-10.8-Win10\\bin;d:\\www\\ospanel\\modules\\memcached\\Memcached-1.6;d:\\www\\ospanel\\modules\\redis\\Redis-7.0;d:\\www\\ospanel\\modules\\http\\Apache_2.4-PHP_8.2-8.3\\bin;d:\\www\\ospanel\\modules\\http\\Apache_2.4-PHP_8.2-8.3;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\system32\\Wbem;C:\\Windows\\SysWOW64'
    'SystemRoot' => 'C:\\Windows'
    'COMSPEC' => 'C:\\Windows\\system32\\cmd.exe'
    'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC'
    'WINDIR' => 'C:\\Windows'
    'SERVER_SIGNATURE' => ''
    'SERVER_SOFTWARE' => 'Apache'
    'SERVER_NAME' => 'api.loctor.loc'
    'SERVER_ADDR' => '127.0.0.1'
    'SERVER_PORT' => '80'
    'REMOTE_ADDR' => '127.0.0.1'
    'DOCUMENT_ROOT' => 'D:/www/loctor/api/web'
    'REQUEST_SCHEME' => 'http'
    'CONTEXT_PREFIX' => ''
    'CONTEXT_DOCUMENT_ROOT' => 'D:/www/loctor/api/web'
    'SERVER_ADMIN' => '[no address given]'
    'SCRIPT_FILENAME' => 'D:/www/loctor/api/web/index.php'
    'REMOTE_PORT' => '59950'
    'REDIRECT_URL' => '/v1/ads/my-ads'
    'REDIRECT_QUERY_STRING' => 'status=active&page=1&per-page=20'
    'GATEWAY_INTERFACE' => 'CGI/1.1'
    'SERVER_PROTOCOL' => 'HTTP/1.1'
    'REQUEST_METHOD' => 'GET'
    'QUERY_STRING' => 'status=active&page=1&per-page=20'
    'REQUEST_URI' => '/v1/ads/my-ads?status=active&page=1&per-page=20'
    'SCRIPT_NAME' => '/index.php'
    'PHP_SELF' => '/index.php'
    'REQUEST_TIME_FLOAT' => 1747773320.7032
    'REQUEST_TIME' => 1747773320
]
2025-05-20 23:37:39 [127.0.0.1][9][-][error][yii\db\IntegrityException] PDOException: SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (`loctor`.`ads`, CONSTRAINT `fk-ad-category_id` FOREIGN KEY (`category_id`) REFERENCES `categories` (`id`) ON DELETE CASCADE) in D:\www\loctor\vendor\yiisoft\yii2\db\Command.php:1320
Stack trace:
#0 D:\www\loctor\vendor\yiisoft\yii2\db\Command.php(1320): PDOStatement->execute()
#1 D:\www\loctor\vendor\yiisoft\yii2\db\Command.php(1120): yii\db\Command->internalExecute()
#2 D:\www\loctor\vendor\yiisoft\yii2\db\Schema.php(431): yii\db\Command->execute()
#3 D:\www\loctor\vendor\yiisoft\yii2\db\ActiveRecord.php(604): yii\db\Schema->insert()
#4 D:\www\loctor\vendor\yiisoft\yii2\db\ActiveRecord.php(570): yii\db\ActiveRecord->insertInternal()
#5 D:\www\loctor\vendor\yiisoft\yii2\db\BaseActiveRecord.php(688): yii\db\ActiveRecord->insert()
#6 D:\www\loctor\api\modules\v1\controllers\AdsController.php(97): yii\db\BaseActiveRecord->save()
#7 [internal function]: api\modules\v1\controllers\AdsController->actionCreate()
#8 D:\www\loctor\vendor\yiisoft\yii2\base\InlineAction.php(57): call_user_func_array()
#9 D:\www\loctor\vendor\yiisoft\yii2\base\Controller.php(178): yii\base\InlineAction->runWithParams()
#10 D:\www\loctor\vendor\yiisoft\yii2\base\Module.php(552): yii\base\Controller->runAction()
#11 D:\www\loctor\vendor\yiisoft\yii2\web\Application.php(103): yii\base\Module->runAction()
#12 D:\www\loctor\vendor\yiisoft\yii2\base\Application.php(384): yii\web\Application->handleRequest()
#13 D:\www\loctor\api\web\index.php(18): yii\base\Application->run()
#14 {main}

Next yii\db\IntegrityException: SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (`loctor`.`ads`, CONSTRAINT `fk-ad-category_id` FOREIGN KEY (`category_id`) REFERENCES `categories` (`id`) ON DELETE CASCADE)
The SQL being executed was: INSERT INTO `ads` (`title`, `description`, `price`, `category_id`, `user_id`, `status`, `created_at`, `updated_at`) VALUES ('Продам iPhone 12', 'Продаю iPhone 12 в отличном состоянии', 50000, 1, 9, 0, 1747773459, 1747773459) in D:\www\loctor\vendor\yiisoft\yii2\db\Schema.php:676
Stack trace:
#0 D:\www\loctor\vendor\yiisoft\yii2\db\Command.php(1325): yii\db\Schema->convertException()
#1 D:\www\loctor\vendor\yiisoft\yii2\db\Command.php(1120): yii\db\Command->internalExecute()
#2 D:\www\loctor\vendor\yiisoft\yii2\db\Schema.php(431): yii\db\Command->execute()
#3 D:\www\loctor\vendor\yiisoft\yii2\db\ActiveRecord.php(604): yii\db\Schema->insert()
#4 D:\www\loctor\vendor\yiisoft\yii2\db\ActiveRecord.php(570): yii\db\ActiveRecord->insertInternal()
#5 D:\www\loctor\vendor\yiisoft\yii2\db\BaseActiveRecord.php(688): yii\db\ActiveRecord->insert()
#6 D:\www\loctor\api\modules\v1\controllers\AdsController.php(97): yii\db\BaseActiveRecord->save()
#7 [internal function]: api\modules\v1\controllers\AdsController->actionCreate()
#8 D:\www\loctor\vendor\yiisoft\yii2\base\InlineAction.php(57): call_user_func_array()
#9 D:\www\loctor\vendor\yiisoft\yii2\base\Controller.php(178): yii\base\InlineAction->runWithParams()
#10 D:\www\loctor\vendor\yiisoft\yii2\base\Module.php(552): yii\base\Controller->runAction()
#11 D:\www\loctor\vendor\yiisoft\yii2\web\Application.php(103): yii\base\Module->runAction()
#12 D:\www\loctor\vendor\yiisoft\yii2\base\Application.php(384): yii\web\Application->handleRequest()
#13 D:\www\loctor\api\web\index.php(18): yii\base\Application->run()
#14 {main}
Additional Information:
Array
(
    [0] => 23000
    [1] => 1452
    [2] => Cannot add or update a child row: a foreign key constraint fails (`loctor`.`ads`, CONSTRAINT `fk-ad-category_id` FOREIGN KEY (`category_id`) REFERENCES `categories` (`id`) ON DELETE CASCADE)
)

2025-05-20 23:37:39 [127.0.0.1][9][-][info][application] $_GET = []

$_POST = []

$_FILES = []

$_COOKIE = [
    '_csrf' => '4a9409557bdcfc419536564c2fc501a9ae5163576ee03eddb287ecfebd67875ba:2:{i:0;s:5:\"_csrf\";i:1;s:32:\"g2P6jIj8pOPASLhgblBeWBJJgMgtW9RX\";}'
]

$_SERVER = [
    'REDIRECT_STATUS' => '200'
    'CONTENT_TYPE' => 'application/json'
    'HTTP_USER_AGENT' => 'PostmanRuntime/7.43.4'
    'HTTP_ACCEPT' => '*/*'
    'HTTP_CACHE_CONTROL' => 'no-cache'
    'HTTP_POSTMAN_TOKEN' => '4804e101-243e-40f4-bb6a-57a8f148df4c'
    'HTTP_HOST' => 'api.loctor.loc'
    'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, br'
    'HTTP_CONNECTION' => 'keep-alive'
    'CONTENT_LENGTH' => '167'
    'HTTP_COOKIE' => '_csrf=4a9409557bdcfc419536564c2fc501a9ae5163576ee03eddb287ecfebd67875ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%22g2P6jIj8pOPASLhgblBeWBJJgMgtW9RX%22%3B%7D'
    'PATH' => 'd:\\www\\ospanel\\modules\\php\\PHP_8.2\\ext;d:\\www\\ospanel\\modules\\php\\PHP_8.2\\pear;d:\\www\\ospanel\\modules\\php\\PHP_8.2\\pear\\bin;d:\\www\\ospanel\\modules\\php\\PHP_8.2;d:\\www\\ospanel\\modules\\wget\\bin;d:\\www\\ospanel\\modules\\database\\MariaDB-10.8-Win10\\bin;d:\\www\\ospanel\\modules\\memcached\\Memcached-1.6;d:\\www\\ospanel\\modules\\redis\\Redis-7.0;d:\\www\\ospanel\\modules\\http\\Apache_2.4-PHP_8.2-8.3\\bin;d:\\www\\ospanel\\modules\\http\\Apache_2.4-PHP_8.2-8.3;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\system32\\Wbem;C:\\Windows\\SysWOW64'
    'SystemRoot' => 'C:\\Windows'
    'COMSPEC' => 'C:\\Windows\\system32\\cmd.exe'
    'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC'
    'WINDIR' => 'C:\\Windows'
    'SERVER_SIGNATURE' => ''
    'SERVER_SOFTWARE' => 'Apache'
    'SERVER_NAME' => 'api.loctor.loc'
    'SERVER_ADDR' => '127.0.0.1'
    'SERVER_PORT' => '80'
    'REMOTE_ADDR' => '127.0.0.1'
    'DOCUMENT_ROOT' => 'D:/www/loctor/api/web'
    'REQUEST_SCHEME' => 'http'
    'CONTEXT_PREFIX' => ''
    'CONTEXT_DOCUMENT_ROOT' => 'D:/www/loctor/api/web'
    'SERVER_ADMIN' => '[no address given]'
    'SCRIPT_FILENAME' => 'D:/www/loctor/api/web/index.php'
    'REMOTE_PORT' => '60037'
    'REDIRECT_URL' => '/v1/ads'
    'GATEWAY_INTERFACE' => 'CGI/1.1'
    'SERVER_PROTOCOL' => 'HTTP/1.1'
    'REQUEST_METHOD' => 'POST'
    'QUERY_STRING' => ''
    'REQUEST_URI' => '/v1/ads'
    'SCRIPT_NAME' => '/index.php'
    'PHP_SELF' => '/index.php'
    'REQUEST_TIME_FLOAT' => 1747773459.1122
    'REQUEST_TIME' => 1747773459
]
